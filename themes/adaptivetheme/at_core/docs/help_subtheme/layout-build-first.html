
<aside class="status-block status">
  <h2>Help Document Status</h2>
  <p><b>Status:</b> Outdated</p>
  <p><b>Last update:</b> Dec 4th 2013</p>
</aside>


<h1>Build Your First Layout - Step by Step</h1>

<p>This document covers building the markup for your layout - in short how to configure and define rows and regions and other important declarations in the layout yml file. It does not cover CSS. A layout is both, this covers the first stage. See the sections on CSS files, CSS Selectors, Media Queries and the ELF for more information on the CSS stage of developing layouts for Adaptivetheme.</p>

<hr>

<h2>What is a "Layout"</h2>

<p>A layout is a set of files that collectively apply a layout to page.html.twig or a template suggestion.</p>

<p>In short they work like this - the main yml file declares rows and regions (and CSS files), Adaptivetheme generates page templates from that yml file. You write the CSS layout and Adaptivetheme will load this at the right time (if the layout is selected).</p>

<hr>

<h2>1: Copy "[type]-layout-kit"</h2>

<p>There are two layout starterkits:</p>

<ul>
  <li><b>minima-layout-kit</b>:
    <ul>
      <li>SEE: adaptivetheme/starterkits/at_minimal/layouts/minima-layout-kit</li>
      <li>No external dependancies.</li>
      <li>Use this if you want to write your own CSS layout using the SASS/LESS/Stylus framework of your choice.</li>
    </ul>
  </li>
  <li><b>elf-layout-kit</b>:
    <ul>
      <li>SEE: adaptivetheme/starterkits/at_standard/layouts/elf-starter-kit</li>
      <li>Depends on SASS, Compass and <a href="https://github.com/ericam/susy/tree/susy-next" target="_blank">Susy Next</a>.</li>
      <li>Uses the ELF.</li>
      <li>Use this one if you prefer a "copy/paste" approach to building up the CSS layout.</li>
    </ul>
  </li>
</ul>


<p>The rest of this guide assumes you are using the "elf-layout-kit".</p>

<p>Note that you can use any layout type in any theme.</p>

<h2>2: Rename Folders and Files</h2>

<p>First choose a name for your new layout and rename the folder. Use letters, underscores and hyphens only. You should have something like this:</p>

<pre class="code-block">
themes/my-theme/layouts/my-layout
</pre>

<p>Next rename files, for example rename <em>layout-starterkit.layout.yml</em> to <em>[my-layout].layout.yml</em>.</p>

<p>Rename all the following files (assuming you are using the elf-layout-kit):</p>

<pre class="code-block">
elf-layout-kit.layout.yml
elf-layout-kit.css
elf-layout-kit-ie8.css
elf-layout-kit.png
</pre>

<p>If using SASS look in the /sass/ folder and rename files there also:</p>

<pre class="code-block">
/sass/elf-layout-kit.scss
/sass/elf-layout-kit-ie8.scss
</pre>

<h2>3: Modify [my-layout].layout.yml</h2>

<p>Here we step through the file one item (or key) at a time and discuss. Follow this carefully, once you have done this you will understand how this file works and this task will become fast and easy in the future. Its not complicated, but you need to be accurate.</p>

<h3>Change the 'plugin' name:</h3>

<p>Note:</p>

<ul>
<li>All layouts must belong to a plugin (even if there is only one layout in the plugin).</li>
<li>All layouts in a plugin MUST have the same regions.</li>
<li>If this is the first layout in the plugin and you plan on changing the regions and rows, create a new plugin.</li>
</ul>

<p>The main thing is that all layouts in a plugin have the same reigons - the only real difference between layouts in a plugin is their CSS layout. We'll deal with  writing CSS later, for now choose a plugin.</p>

<pre class="code-block">
plugin: 'My Plugin'
</pre>

<h3>Optional description:</h3>

<p>Description is optional, you can remove it or add a brief description.</p>

<pre class="code-block">
description: '... short description here... '
</pre>

<h3>Version String:</h3>

<p>Set a version of you want need to track this, otherwise you can remove it.</p>

<pre class="code-block">
version: '8.x-1.0-dev'
</pre>

<h3>Remove "hidden: true"</h3>

<p>This hides the starterkit on the Appearance settings page, remove it now.</p>

<pre class="code-block">
hidden: true # delete me
</pre>

<h3>Rows and Regions</h3>

<p>Here you add your rows and regions. Rows are containers for a group of regions. Rows can have attributes like id, role and classes.</p>

<p>Use this to add or remove rows and regions in your layout. This is what Adaptivetheme uses to generate page templates - you never write any real code or markup for page templates - instead Adaptivetheme will generate this when you select a layout in the Appearance settings for your sub-theme.</p>

<p>Remember - this is a yml file, indentation is very important! Use two spaces, not tabs, follow the exsiting file you are modifying carefully.</p>

<p>Schema:</p>

<pre class="code-block">
rows:
[row_name]
  [attributes:]
    [attribute type]: attribute-value
  [regions:]
    [region_machine_name]: 'Region Friendly Name'
</pre>

<p><strong>Special Case Row Names</strong></p>

<p>'header', 'main' and 'footer' will use their html5 counterparts when the page template is generated. These are used in all Adaptivetheme layouts.</p>

<h3>Change CSS File Names</h3>

<p>These need to match your new files names.</p>

<p>There are only two keys available - <em>styles:</em> for the main CSS file and <em>no_mq</em> for the IE8 (or no-media-query) CSS file.</p>

<pre class="code-block">
css:
  styles: [my-layout].css
  no_mq: [my-layout]-ie8.css
</pre>

<p>Now you can edit these CSS files and create the CSS layout required. Everthing up to this point has been about generating markup code, but layouts are CSS and markup. See the guide on "Layout CSS".</p>

<h3>Screenshot</h3>

<p>Update the name of the screenshot file name:</p>

<pre class="code-block">
screenshot: [my-layout].png
</pre>

<h2>4. Using your new layout</h2>

<p>After you have saved your new layout visit the Appearance settings for your theme. Assuming you have enabled layouts you will see the new layout in the "Select Layout" table.</p>

<p>Follow the steps to apply your layout as "Default" (replaces page.html.twig) or use it in a template suggestion. Note that template suggestion layouts must be from the same plugin as the default layout.</p>

<p>See the guide on "Generating Layouts" for more details.</p>
