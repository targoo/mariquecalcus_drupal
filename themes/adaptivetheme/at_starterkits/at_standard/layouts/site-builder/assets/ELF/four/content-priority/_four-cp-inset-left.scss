//
// Priority Content Inset Left (4-8-4-4)
//
// Source ordered layout for content prioritization. Note these layouts take
// full account of any comibination of active regions - the layout adapts to
// whatever subset of regions are active at any one time.
// ---------------------------------------------------------------------------
//
// Actual Source Order:
//
//  - first
//  - second
//  - third
//  - fourth
//
// Appearance:
//
//  -------------------------------------------------------
//  |  fourth (4)    |             first (8)               |
//  |                ---------------------------------------
//  |                |    second (4)   |     third (4)     |
//  -------------------------------------------------------
//  Key: region-name (grid columns)


// Region first and second or third are active.
&.active-regions--1-2,
&.active-regions--1-3 {
  .region {
    &:first-child {
      @include span(8 of 12);
    }
    &:last-child {
      @include span(4 of 12);
      @include omega;
    }
  }
}


// Region second and third are active.
&.active-regions--2-3 {
  .region {
    @include span(6 of 12);

    &:last-child {
      @include omega;
    }
  }
}


// Fourth and first, second or third are active.
&.active-regions--1-4,
&.active-regions--2-4,
&.active-regions--3-4 {
  .region {
    &:first-child {
      @include push(4 of 12);
      @include span(8 of 12);
    }
    &:last-child {
      @include pull(12 of 12);
      @include span(4 of 12);
    }
  }
}


// First, second and third are active.
&.active-regions--1-2-3 {
  .region {
    &:nth-child(2),
    &:last-child {
      @include span(6 of 12);
    }
    &:last-child {
      @include omega;
    }
  }
}


// First and fourth plus second or third are active.
// $to is a flow direction variable, see _base.scss
&.active-regions--1-2-4,
&.active-regions--1-3-4 {
  .region {
    &:first-child {
      @include span(last 8);
    }
    &:nth-child(2) {
      clear: $flow-to;
      @include span(8 at 5 isolate);
    }
    &:last-child {
      width: span(4);
    }
  }
}


// Second, third and forth are active.
&.active-regions--2-3-4 {
  .region {
    &:first-child {
      @include push(4 of 12);
      @include span(4 of 12);
    }
    &:nth-child(2) {
      @include span(4 omega of 12);
    }
    &:last-child {
      @include span(4 of 12);
      @include pull(8 of 12);
    }
  }
}


// All regions are active
// $to is a flow direction variable, see _base.scss
&.active-regions--1-2-3-4 {
  .region {
    &:first-child {
      @include span(last 8);
    }
    &:nth-child(2) {
      clear: $flow-to;
      @include span(4 at 5 isolate);
    }
    &:nth-child(3) {
      @include span(last 4 isolate);
    }
    &:last-child {
      width: span(4);
    }
  }
}

