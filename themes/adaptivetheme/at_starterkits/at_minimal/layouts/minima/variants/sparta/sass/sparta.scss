//
// Sparta Layout.
//
// The Sparta layout is built with Susy Next, a SASS/Compass based layout
// framework. Please see the config.rb file for details.
//
// The layout is mobile first and fully responsive. It supports any
// combination of active regions, i.e. all regions are collaspible.
// This layout also uses content priority techniques to push and pull
// sidebars into position around the content region.

// You can easily remove layout declarations you may not be using or are
// unlikely to ever use - remember this layout supports any combination of
// regions that could possibly occur using Drupals block configuration.
//
// It is also written in a way that is easier to understand than if we try
// to group selectors, which can quickly work against us in terms of readability
// and produce unwanted CSS declarations.
//
// ---------------------------------------------------------------------------

// Import base config and global style partials.
@import "../../../assets/global";


// Narrow screens only.
@media #{$narrow} {

  /* Main (4 regions) */
  .page-row__main {
    // Two active regions.
    &.active-regions--2-3 {
      .region {
        &:first-child {
          @include span(8 of 12);
        }
        &:last-child {
          @include span(4 omega of 12);
        }
      }
    }

    // Three active regions.
    &.active-regions--1-2-3 {
      .region {
        &:nth-child(2) {
          @include span(8 of 12);
        }
        &:last-child {
          @include span(4 omega of 12);
        }
      }
    }

    &.active-regions--2-3-4 {
      .region {
        &:first-child {
          @include span(8 of 12);
        }
        &:nth-child(2) {
          @include span(4 omega of 12);
        }
        &:last-child {
         clear: both;
        }
      }
    }

    // Four active regions.
    &.active-count--4 {
      .region {
        &:nth-child(2) {
          @include span(8 of 12);
        }
        &:nth-child(3) {
          @include span(4 omega of 12);
        }
        &:last-child {
         clear: both;
        }
      }
    }
  }
}


// Narrows and wide screens (and up)
@media #{$narrow-wide} {

  /* Header (2 regions) */
  .page-row__header {

    &.active-count--2 {
      .region {
          @include span(6 of 12);

        &:last-child {
          @include omega;
        }
      }
    }
  }
}


// Wide screens and up.
@media #{$wide} {

  /* Main (4 regions) */
  .page-row__main {

    // Third and fourth are active.
    &.active-regions--3-4 {
      .region {
        @include span(6 of 12);

        &:last-child {
          @include omega;
        }
      }
    }

    // Second and third.
    &.active-regions--2-3 {
      .region {
        &:first-child {
          @include push(3 of 12);
          @include span(9 of 12);
        }
        &:last-child {
          @include pull(12 of 12);
          @include span(3 of 12);
        }
      }
    }

    // Second and fourth.
    &.active-regions--2-4 {
      .region {
        &:first-child {
          @include span(9 of 12);
        }
        &:last-child {
          @include span(3 omega of 12);
        }
      }
    }

    // First, second and third.
    &.active-regions--1-2-3 {
      .region {
        &:nth-child(2) {
          @include push(3 of 12);
          @include span(9 of 12);
        }
        &:last-child {
          @include pull(12 of 12);
          @include span(3 of 12);
        }
      }
    }

    // First, third and fourth.
    &.active-regions--1-2-4 {
      .region {
        &:nth-child(2) {
          @include span(6 of 12);
        }
        &:last-child {
          @include span(6 omega of 12);
        }
      }
    }

    // First, third and fourth.
    &.active-regions--1-3-4 {
      .region {
        &:nth-child(2) {
          @include span(9 of 12);
        }
        &:last-child {
          @include span(3 omega of 12);
        }
      }
    }

    // Two, three and four (classic layout)
    &.active-regions--2-3-4 {
      .region {
        &:first-child {
          @include span(6 of 12);
          @include push(3 of 12);
        }
        &:nth-child(2) {
          @include span(3 of 12);
          @include pull(9 of 12);
        }
        &:last-child {
          @include span(3 omega of 12);
        }
      }
    }

    // All regions active.
    &.active-count--4 {
      .region {
        &:nth-child(2) {
          @include span(6 of 12);
          @include push(3 of 12);
        }
        &:nth-child(3) {
          @include span(3 of 12);
          @include pull(9 of 12);
        }
        &:last-child {
          @include span(3 omega of 12);
        }
      }
    }
  }
}
